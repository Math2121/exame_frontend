<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/style.css" media="screen" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <title>Exame Frontend</title>

</head>
<body>


<section>
    <div class="container">
        <div class="main">
            <div class="cartao">
                <div class="setinha">
                        <
                </div>
                <div class="etapa">
                  
                    <p><b>Etapa 2</b> de 3</p>
                </div>
                <p id="alterar">< Alterar forma de pagamento</p>

                    <div class="novo">
                        <img src="assets/icon_cartao.png" alt="icone de cartão" class="icon">
                        <p  id="resp_2">Adicione um novo<br> cartão de crédito</p>
                    </div>


                    <div class="vazio" id="vazio">
                        <p id="asterisco">**** ****  ****  ****</p>
                            <div class="titular">
                                <p>NOME DO TITULAR</p>
                                <p> 00/00</p>
                            </div>

                    </div>


                    <div class="cartao-input"  id="img_cartao">
                   
                            <img src="assets/visa.png" alt="logo da visa" id="visa">

                            <p id="numero"></p>
                            <div class="titular_2" >
                                    <p id="nome"></p>

                                    <p id="validade"></p>

                                    <p id ="cvv_id"></p>
                            </div>

                    </div>
            </div>

        <div class="form">
                <form  novalidate autocomplete="on" action="">
           <div class="row">
           <p style=" margin-bottom: 50px;"> <span><i class="tiny material-icons">check_circle</i></span> Carrinho <span class="seta"> > </span> <span class="bolinha">2</span> Pagamento  <span class="seta"> > </span> <span class="bolinha">3</span> Confirmação</p>
                <div class="input-field col s12" id="resp">
                <input  id="numero_cartao" type="text" class="validate" autocomplete="numero_cartao">
                <label for="numero_cartao">Número do cartão</label>
                <span id="erro_numero"></span>
                </div>
            </div>
                <p id="teste"></p>

            <div class="row">
                <div class="input-field col s12">
                <input  id="nome_cartao" type="text" class="validate" >
                <label for="nome_cartao">Nome (igual ao cartão)</label>
                
                </div>
            </div>

            <div class="row">
                <div class="input-field col s12 m6 l6">
                <input  id="validade_cartao" type="text" class="validate" autocomplete="validade_cartao"  >
                <label for="validade_cartao">validade</label>
                <span id="erro_validade"></span>
                </div>

                <div class="input-field col s12 m6 l6">
                <input  id="cvv" type="text" class="validate" onclick="cartao()" autocomplete="off">
                <label for="cvv">CVV  <i class=" tiny material-icons">info</i></label>
                <span id="erro_cvv"></span>
                </div>
            </div>

            <div class="row" onclick="codigo()" >
                <div class="input-field col s12">
                    <select  >
                    <option style="color: #9e9e9e;" value="" disabled selected >Escolha seu parcelamento</option>
                    <option value="1" onclick="" >12x R$ 1.000,00 sem juros</option>
                    <option value="2">11x R$ 1.000,00 sem juros</option>
                    <option value="3">10x R$ 1.000,00 sem juros</option>
                    </select>
                    
                </div>
            </div>


            <button class="btn"  id="btn" type="submit" name="action">Continuar</button>
        
                </form>
            </div>
        </div>
    </div>
</section>


<script language="JavaScript" src="https://code.jquery.com/jquery-3.5.0.js" integrity="sha256-r/AaFHrszJtwpe+tHyNi/XCfMxYpbsRg2Uqn0x3s2zc=" crossorigin="anonymous" type="text/javascript"></script>
<script language="JavaScript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js" type="text/javascript"></script>
<script language="JavaScript" src="lib/jquery.payment.js" type="text/javascript"></script>
<script type="text/javascript">
   jQuery(function($) {

 
$('#numero_cartao').payment('formatCardNumber');
$('#cvv').payment('formatCardCVC');
$('#validade_cartao').payment('formatCardExpiry');


$('form').submit(function(e) {
  e.preventDefault();
  var number = $.payment.validateCardNumber($('#numero_cartao').val());
  var dat = $.payment.validateCardExpiry($('#validade_cartao').val());
  var validate =  $.payment.validateCardCVC($('#cvv').val());
  if (!number) {
    $('#erro_numero').append('Número do cartão inválido')
    $('#numero_cartao').css("border-bottom", "1px solid red")
    console.log('Erro no número do cartão')
  }

  if (!dat) {
    $('#erro_data').append('Data inválida')
    $('#validade_cartao').css("border-bottom", "1px solid red")
    console.log('Erro na validade do cartão')
  }


  if (!validate) {
    $('#erro_cvv').append('Código inválido')
    $('#cvv').css("border-bottom", "1px solid red")
    console.log('Erro na validade do cartão')
  }
})
})


</script>
<script language="JavaScript" src="js/script.js" type="text/javascript"></script> 
</body>
</html>